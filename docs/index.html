<!doctype html>
<head>
<title>CodeMirror: Agda mode</title>
<meta charset="utf-8"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/theme/base16-dark.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/addon/hint/show-hint.min.css">
<style>.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}</style>
<style>
.CodeMirror-hints.base16-dark {
  font-size: 100%;
  background: black;
  color: white;
}
.base16-dark .CodeMirror-hint {
  color: white;
}
.base16-dark .CodeMirror-hint-active {
  background: #c0c0c0;
  color: black;
}
</style>
</head>

<body>
<article>

<h2>Agda mode</h2>
<form>
<textarea id="code" name="code">
{-# OPTIONS --safe #-}
module Example where
open import Agda.Builtin.Equality

_⇆_ : {A : Set} {a b c : A} → a ≡ b → b ≡ c → a ≡ c
refl ⇆ refl = refl
</textarea>
</form>
<p><strong>MIME types defined:</strong> <code>text/x-agda</code>.</p>

<hr>

<div id="selects">
  <label for="mode-select">Mode:</label>
  <select id="mode-select" data-option-key="mode">
    <option value="agda">Agda</option>
    <option value="haskell">Haskell</option>
  </select>

  <label for="keymap-select">KeyMap:</label>
  <select id="keymap-select" data-option-key="keyMap">
    <option value="default">Default</option>
    <option value="sublime">Sublime Text</option>
    <option value="vim">Vim</option>
    <option value="emacs">Emacs</option>
  </select>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/addon/mode/simple.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/addon/hint/show-hint.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/mode/haskell/haskell.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/keymap/vim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/keymap/emacs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/keymap/sublime.min.js"></script>
<script src="agda.js"></script>
<script>
  const editor = CodeMirror.fromTextArea(document.getElementById("code"), {
    mode: "agda",
    lineNumbers: true,
    theme: "base16-dark",
    keyMap: "default",
  });

  document.getElementById("selects").addEventListener("change", function(e) {
    editor.setOption(e.target.dataset.optionKey, e.target.value);
    e.stopPropagation();
  });
</script>

</article>
</body>
